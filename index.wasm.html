<html>
	<head>
		<title>URLchess</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no">
		<script type="text/javascript">
//<![CDATA[
var hash = window.location.hash;
var search = window.location.search;
if (search.startsWith("?")) {
	search = search.slice(1);
}
if ( 
	(search.length > 0 && hash.length == 0) 
	|| 
	(search.length == 0 && hash.length == 0 && window.location.href.indexOf("?") != -1)
){
	//window.alert("URL is in format for URLchess version <=0.6, transforming...");
	window.location.href = window.location.href.replace("?", "#");
}
//]]>
		</script>
		<link rel="stylesheet" type="text/css" href="URLchess.css?v0.9">
		<script src="wasm_exec.js" defer></script>
		<script>
			document.addEventListener("DOMContentLoaded", function() {
				if (typeof WebAssembly === "object") {
					// Load the Go WebAssembly runtime after wasm_exec.js is ready
					if (typeof Go === "undefined") {
						console.error("Go runtime is not loaded.");
						return;
					}
					const go = new Go();
					WebAssembly.instantiateStreaming(fetch("URLchess.wasm"), go.importObject).then((result) => {
						go.run(result.instance);
					}).catch((err) => {
						console.error("Failed to load WebAssembly", err);
					});
				} else {
					alert("No wasm in browser!");
				}
			});
		</script>
	</head>
	<body>
		<noscript>
			<p>You need to enable JavaScript to run URLchess.</p>
		</noscript>
	</body>
</html>
